<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
    th:replace="~{fragments/layout :: layout(title='Veri Sıfırlama', content=~{::content})}">

<body>
    <div th:fragment="content">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="form-card">
                    <h2 class="text-danger mb-4"><i class="bi bi-exclamation-triangle-fill"></i> Sistem Verilerini
                        Sıfırla</h2>

                    <div th:if="${success}" class="alert alert-success alert-dismissible fade show">
                        <i class="bi bi-check-circle"></i> <span th:text="${success}"></span>
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>

                    <div th:if="${error}" class="alert alert-danger alert-dismissible fade show">
                        <i class="bi bi-exclamation-octagon"></i> <span th:text="${error}"></span>
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>

                    <div class="row g-4">
                        <!-- Option 1: Reset Transactions -->
                        <div class="col-md-6">
                            <div class="card bg-dark border-warning h-100">
                                <div class="card-body">
                                    <h5 class="card-title text-warning"><i class="bi bi-clock-history"></i> İşlem
                                        Verilerini Sil</h5>
                                    <p class="card-text text-secondary">Mevcut kullanıcılar, araçlar ve ilanlar korunur.
                                        Sadece aşağıdakiler silinir:</p>
                                    <ul class="text-secondary small">
                                        <li>Satışlar ve Satın Alma Talepleri</li>
                                        <li>Teklifler</li>
                                        <li>Kiralamalar</li>
                                        <li>Ödemeler</li>
                                        <li>Audit Logları</li>
                                    </ul>
                                    <form th:action="@{/system/reset-transactions}" method="post"
                                        onsubmit="return confirm('Tüm satış ve teklif verileri silinecek. Emin misiniz?');">
                                        <button type="submit" class="btn btn-warning w-100">İşlemleri Sıfırla</button>
                                    </form>
                                </div>
                            </div>
                        </div>

                        <!-- Option 2: Full Reset -->
                        <div class="col-md-6">
                            <div class="card bg-dark border-danger h-100">
                                <div class="card-body">
                                    <h5 class="card-title text-danger"><i class="bi bi-trash3-fill"></i> Her Şeyi Sil
                                        (Fabrika Ayarları)</h5>
                                    <p class="card-text text-secondary">Sistemdeki <strong>TÜM VERİLER</strong> kalıcı
                                        olarak silinir. Bu işlem geri alınamaz!</p>
                                    <ul class="text-secondary small">
                                        <li>Tüm Kullanıcılar (Admin dahil)</li>
                                        <li>Tüm Araçlar ve İlanlar</li>
                                        <li>Tüm Hesaplar ve Adresler</li>
                                        <li>Tüm Satış ve Geçmiş Kayıtları</li>
                                    </ul>
                                    <form th:action="@{/system/reset-all}" method="post"
                                        onsubmit="return confirm('DİKKAT! Tüm kullanıcılar ve veriler silinecek. Giriş yapamayacaksınız. Emin misiniz?');">
                                        <button type="submit" class="btn btn-danger w-100">HER ŞEYİ SİL</button>
                                    </form>
                                </div>
                            </div>
                        </div>

                        <!-- Option 3: Add Samples -->
                        <div class="col-md-12">
                            <div class="card bg-dark border-success h-100">
                                <div class="card-body">
                                    <h5 class="card-title text-success"><i class="bi bi-plus-circle-dotted"></i> Örnek
                                        Araçları Ekle</h5>
                                    <p class="card-text text-secondary">Sisteme hızlıca ilan ekleyebilmeniz için 10 adet
                                        güncel araç (Fiat Egea, Renault Clio vb.) ekler.</p>
                                    <form th:action="@{/system/add-samples}" method="post">
                                        <button type="submit" class="btn btn-success"><i
                                                class="bi bi-car-front-fill"></i> Araçları Ekle</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>